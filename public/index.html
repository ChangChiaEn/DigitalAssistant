<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Title Bar -->
  <div class="title-bar" id="titleBar">
    <span class="title-text">ASSISTANT</span>
    <div class="title-buttons">
      <button class="btn-pin" id="btnPin" title="Pin on top">
        <svg viewBox="0 0 16 16" width="11" height="11" fill="currentColor"><path d="M4.146.146A.5.5 0 014.5 0h7a.5.5 0 01.5.5c0 .68-.342 1.174-.646 1.479-.126.125-.25.224-.354.298v4.431l.078.048c.203.127.476.314.751.555C12.36 7.775 13 8.527 13 9.5a.5.5 0 01-.5.5h-4v4.5a.5.5 0 01-1 0V10h-4A.5.5 0 013 9.5c0-.973.64-1.725 1.17-2.189A6 6 0 015 6.708V2.277a3 3 0 01-.354-.298C4.342 1.674 4 1.18 4 .5a.5.5 0 01.146-.354"/></svg>
      </button>
      <button class="btn-min" id="btnMin" title="Minimize">&minus;</button>
      <button class="btn-close" id="btnClose" title="Close">&times;</button>
    </div>
  </div>

  <!-- Connection Status -->
  <div class="status-bar">
    <span class="status-dot" id="statusDot"></span>
    <span class="status-text" id="statusText">Offline</span>
    <button class="btn-settings" id="btnSettings" title="Settings">
      <svg viewBox="0 0 16 16" width="13" height="13" fill="currentColor"><path d="M8 4.754a3.246 3.246 0 100 6.492 3.246 3.246 0 000-6.492M5.754 8a2.246 2.246 0 114.492 0 2.246 2.246 0 01-4.492 0"/><path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 01-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 01-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 01.52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 011.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 011.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 01.52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 01-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 01-1.255-.52z"/></svg>
    </button>
  </div>

  <!-- Chat Area -->
  <div class="chat-container" id="chatContainer">
    <div class="message assistant">
      <div class="message-content">按住麥克風說話，或直接打字。
        <div class="skill-hints">
          <span class="hint" data-cmd="開啟記事本">開啟應用</span>
          <span class="hint" data-cmd="系統狀態">系統資訊</span>
          <span class="hint" data-cmd="幫我搜尋 AI 新聞">搜尋</span>
          <span class="hint" data-cmd="讀取剪貼簿">剪貼簿</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Skills Panel -->
  <div class="skills-panel" id="skillsPanel">
    <div class="skills-header" id="skillsToggle">
      <span>快捷操作</span>
      <span class="skills-arrow">&#9650;</span>
    </div>
    <div class="skills-grid" id="skillsGrid">
      <button class="skill-btn" data-skill="launch-app" data-arg="notepad">記事本</button>
      <button class="skill-btn" data-skill="launch-app" data-arg="calculator">計算機</button>
      <button class="skill-btn" data-skill="launch-app" data-arg="explorer">檔案總管</button>
      <button class="skill-btn" data-skill="launch-app" data-arg="browser">瀏覽器</button>
      <button class="skill-btn" data-skill="screenshot" data-arg="">截圖</button>
      <button class="skill-btn" data-skill="datetime" data-arg="">時間</button>
      <button class="skill-btn" data-skill="system-info" data-arg="">系統資訊</button>
      <button class="skill-btn" data-skill="clipboard-read" data-arg="">剪貼簿</button>
      <button class="skill-btn" data-skill="list-files" data-arg="">檔案列表</button>
      <button class="skill-btn" data-skill="search-web" data-arg="">搜尋</button>
      <button class="skill-btn" data-skill="launch-app" data-arg="vscode">VSCode</button>
      <button class="skill-btn" data-skill="launch-app" data-arg="terminal">終端機</button>
    </div>
  </div>

  <!-- Input Area -->
  <div class="input-area">
    <button class="mic-btn" id="micBtn" title="按住說話">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
      </svg>
    </button>
    <input type="text" id="textInput" placeholder="輸入指令或問題..." autocomplete="off">
    <button class="send-btn" id="sendBtn" title="送出">
      <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
      </svg>
    </button>
  </div>

  <!-- Settings Modal -->
  <div class="modal-overlay" id="settingsModal">
    <div class="modal">
      <h3>設定</h3>
      <div class="setting-group">
        <label>Colab API URL</label>
        <input type="text" id="settingApiUrl" placeholder="https://xxx.trycloudflare.com">
      </div>
      <div class="setting-group">
        <label>語音輸出</label>
        <select id="settingTts">
          <option value="browser">開啟</option>
          <option value="off">關閉</option>
        </select>
      </div>
      <div class="setting-group">
        <label>語言</label>
        <select id="settingLang">
          <option value="zh-TW">繁體中文</option>
          <option value="zh-CN">簡體中文</option>
          <option value="en-US">English</option>
          <option value="ja-JP">日本語</option>
        </select>
      </div>
      <div class="modal-buttons">
        <button id="settingSave" class="btn-primary">儲存</button>
        <button id="settingCancel" class="btn-secondary">取消</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
